"use strict";(()=>{var e={};e.id=701,e.ids=[701],e.modules={1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5296:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>m,originalPathname:()=>E,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>p,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>g});var n={};a.r(n),a.d(n,{DELETE:()=>DELETE,GET:()=>GET,POST:()=>POST});var r=a(884),o=a(6132),s=a(9954),i=a(1922),c=a(5798);async function POST(e){let{name:t,email:a}=await e.json();return await (0,s.Z)(),await i.Z.create({name:t,email:a}),c.Z.json({message:{user:t,email:a}},{status:201})}async function GET(){try{await (0,s.Z)();let e=await i.Z.find({});return c.Z.json(e)}catch(e){console.log("Не вдалося отримати список користувачів")}}async function DELETE(e){try{let t=e.nextUrl.searchParams.get("id");await (0,s.Z)(),await i.Z.findByIdAndDelete(t);let a=await i.Z.find();return c.Z.json(a,{status:200})}catch(e){console.log("Не вдалося видалити користувача")}}let u=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/users/route",pathname:"/api/users",filename:"route",bundlePath:"app/api/users/route"},resolvedPagePath:"E:\\GIT REPOSITORIES\\admin-banner\\src\\app\\api\\users\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:p,headerHooks:m,staticGenerationBailout:g}=u,E="/api/users/route"},1922:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(1185),r=a.n(n);let o=new n.Schema({name:String,email:String},{timestamps:!1}),s=r().models.User||r().model("User",o),i=s},9954:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(1185),r=a.n(n);let connectMongoDB=async()=>{try{await r().connect(process.env.MONGODB_URL),console.log("connected to mongo")}catch(e){console.log(e)}},o=connectMongoDB}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[997],()=>__webpack_exec__(5296));module.exports=a})();